function listenToFirebase(e){e&&fb.setOnStockChangedListener(e,"default",function(e){console.log("stock changed",e),APP.stock.codes=e,mbsRest.reload()})}var APP=new Vue({el:"#app",data:{owner:localStorage.getItem("owner"),stock:{codes:[],stocks:[]}},computed:{mobile:detectMobile},methods:{onSortUpdate:function(e){},onRemoveItemClicked:function(e){var t=this.stock.stocks;t.splice(e,1)},stockGetChangeType:detectStockValueChangeType,stockGetChangeValue:getStockChangeValue,onPasswordKeyUp:function(e){if(13===event.keyCode){var t=e.target.value;e.target.value="",console.log(t),fb.getOwner(t,function(e){console.log(e),e&&(localStorage.setItem("owner",e),APP.owner=e,listenToFirebase(e))})}},onStockInputKeyUp:function(e){if(13===event.keyCode){var t=e.target.value;e.target.value="";for(var o=t.split(","),n=APP.stock.codes,a,s=0;s<o.length;s++)a=o[s].toUpperCase(),!_ListStockInfo.hasOwnProperty(a)||a in n?console.log("Invalid:",a):n.push(a);fb.write(APP.owner,"default",n)}}}}),fb=new Firebase;fb.init(),listenToFirebase(APP.owner);