function doLogout(e){localStorage.removeItem("owner"),APP.owner=null}function listenToFirebase(e){e&&fb.setOnStockChangedListener(e,"default",function(e){console.log("stock changed",e),APP.stock.codes=e,mbsRest.reload()})}var APP=new Vue({el:"#app",data:{owner:localStorage.getItem("owner"),stock:{codes:[],stocks:[]}},computed:{mobile:detectMobile},methods:{onSortUpdate:function(e){console.log("update",e),console.log(this.$data.stocks)},stockGetChangeType:detectStockValueChangeType,stockGetChangeValue:getStockChangeValue}}),stockInput=document.getElementById("stockInput");stockInput.onkeyup=function(e){if(console.log(e.keyCode),13===e.keyCode){var o=stockInput.value;stockInput.value="";for(var t=o.split(","),n=APP.stock.codes,s,a=0;a<t.length;a++)s=t[a].toUpperCase(),!_ListStockInfo.hasOwnProperty(s)||s in n?console.log("Invalid:",s):n.push(s);fb.write(APP.owner,"default",n)}};var passwordInput=document.getElementById("password");passwordInput.onkeyup=function(e){if(13===e.keyCode){var o=passwordInput.value;passwordInput.value="",console.log(o),fb.getOwner(o,function(e){console.log(e),e&&(localStorage.setItem("owner",e),APP.owner=e,listenToFirebase(e))})}},listenToFirebase(APP.owner);