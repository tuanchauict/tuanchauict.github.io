var mbsRest=function(){var e=function(e){var r=e.split("^");return{id:r[0],name:_ListStockInfo[r[0]],price0:{ceil:parseFloat(r[1]),floor:parseFloat(r[2]),reference:parseFloat(r[3])},live:{match:{price:parseNumber(r[11]),volume:normaliseAmount(parseNumber(r[12]))},buy:[{price:parseNumber(r[4]),volume:normaliseAmount(parseNumber(r[5]))},{price:parseNumber(r[6]),volume:normaliseAmount(parseNumber(r[7]))},{price:parseNumber(r[8]),volume:normaliseAmount(parseNumber(r[9]))}],sell:[{price:parseNumber(r[13]),volume:normaliseAmount(parseNumber(r[14]))},{price:parseNumber(r[15]),volume:normaliseAmount(parseNumber(r[16]))},{price:parseNumber(r[17]),volume:normaliseAmount(parseNumber(r[18]))}],stats:{totalVolume:normaliseAmount(parseNumber(r[19])),high:parseNumber(r[21]),low:parseNumber(r[22]),average:parseNumber(r[20])},foreign:{buyVolume:normaliseAmount(parseNumber(r[25])),buyRoom:normaliseAmount(parseNumber(r[27])),sellAmount:normaliseAmount(parseNumber(r[26])),sellRoom:normaliseAmount(parseNumber(r[27]))}}}},r=function(r){get(Url.mbsHttp.toUrl(Url.mbsHttp.full,APP.stock.codes),function(m){var o=m.split("|")[2].split("#"),s=new Set,u=APP.stock.codes,a;for(a=0;a<u.length;a++)s.add(u[a]);var t,n,p,i={};for(a=0,l=o.length;a<l;a++)t=o[a],n=t.substr(0,3),s.has(n)&&(p=e(t),i[p.id]=p);var b=[],N;for(a=0,l=u.length;a<l;a++)N=u[a],i.hasOwnProperty(N)&&b.push(i[u[a]]);r&&r()})};return r(function(){}),{reload:r}}();