function Firebase(){var e=this,t,i,o,r,a,n;this.init=function(n,d){var l={apiKey:"AIzaSyDUHEsElweVtebLYGJS7TJu0svlqpXDKlI",authDomain:"gotitfood.firebaseapp.com",databaseURL:"https://gotitfood.firebaseio.com",projectId:"gotitfood",storageBucket:"gotitfood.appspot.com",messagingSenderId:"668817774606"};return firebase.initializeApp(l),t=firebase.database(),i=t.ref().child("orders"),o=t.ref().child("orderDetail"),r=t.ref().child("autoComplete").child("brand"),a=t.ref().child("autoComplete").child("itemName"),i.on("value",function(e){var t=e.val();t&&(console.log(t),n&&n(t))}),t.ref().child("autoComplete").once("value").then(function(e){var t=e.val();if(t){var i=t.itemName,o=t.brand,r,a=[],n=[];for(r in i)i.hasOwnProperty(r)&&a.push(r);for(r in o)o.hasOwnProperty(r)&&n.push(r);a.sort(),n.sort(),console.log("autoCompleteItems",a),console.log("autoCompleteBrands",n),d(a,n)}}),e},this.newOrderList=function(e){var t=i.push().key;return i.child(t).set({id:t,name:e,createdDate:(new Date).toISOString(),removable:!0}),o.child(t).child("_non_removable").set({removable:!1}),t},this.removeOrderList=function(e){i.child(e).remove(),o.child(e).remove()},this.cloneOrderList=function(e,t){var r=i.push().key;i.child(r).set({id:r,name:t,createdDate:(new Date).toISOString(),removable:!0}),o.child(e.id).once("value").then(function(e){var t=o.child(r),i=e.val(),a={};console.log("detail",i);for(var n in i){if(!i.hasOwnProperty(n))return;var d=i[n];d.removable?(d.id=t.push().key,d.listId=r,a[d.id]=d):a[n]=d}o.child(r).set(a)})},this.renameOrderList=function(e,t){console.log("rename",e,t),e.name=t,i.child(e.id).update(e)},this.addOrderItem=function(e,t){t.hasOwnProperty("id")?t.modifiedDate=(new Date).toISOString():(t.id=i.child(e).push().key,t.listId=e,t.createdDate=(new Date).toISOString(),t.modifiedDate=(new Date).toISOString(),t.removable=!0),o.child(e).child(t.id).set(t),a.child(t.name).set(!0),t.brand&&r.child(t.brand).set(!0)},this.removeOrderItem=function(e,t){o.child(e).child(t).remove()},this.listenToOrderListChange=function(e,t){e!==n&&(n&&o.child(n).off("value"),e&&o.child(e).on("value",function(e){var i=e.val();t&&t(i)}),n=e)}}