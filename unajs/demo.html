<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Compiled and minified CSS -->
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">-->

    <!-- Compiled and minified JavaScript -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>-->
    <title>Demo Una JS</title>

    <script src="utils.js"></script>
    <script src="parser2.js"></script>
    <script src="una.js"></script>
</head>
<body>
    <div id="app" class="container" style="width: 40em; padding-top: 2em; padding-bottom: 2em">
        <div>
            <input u-bind="newTodo" type="text" placeholder="New TODO">
            <button u-click="addNewTodo(newTodo, todos)">Add</button>
            <label><input id="renderDone" type="checkbox" placeholder="Show Finished" u-bind="renderDone">Show finished</label>

        </div>
        <div id="list">
            <div u-for="item in getRenderableTodo(renderDone, todos)" class="row">
                {{item.text}}
            </div>

        </div>
    </div>

<script>
    app = new Una({
        el: 'app',
        data: {
            newTodo: '',
            renderDone: false,
            todos: [{
                done: false,
                text: "Todo 1"
            },{
                done: true,
                text: "Todo 2"
            },{
                done: false,
                text: "Todo 3"
            }]
        }, methods: {
            getRenderableTodo: function () {
                var result = [];
                for (var i = 0; i < this.todos.length; i++){
                    if (this.renderDone || !this.todos[i].done){
                        result.push(this.todos[i]);
                    }
                }
                return result;
            },
            addNewTodo: function(){
                this.todos.push({
                    done: false,
                    text: this.newTodo
                });
                this.newTodo = '';
            }
        }
    })
</script>
</body>
</html>